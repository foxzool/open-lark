{
  "scan_timestamp": "2025-11-16T15:09:25+08:00",
  "project_name": "open-lark",
  "project_type": "Rust SDK",
  "description": "é£ä¹¦å¼€æ”¾å¹³å°é«˜è¦†ç›–ç‡ Rust SDK",
  "scan_coverage": {
    "total_files_estimated": 2500,
    "files_scanned": 400,
    "coverage_percentage": 15.8,
    "modules_identified": 22,
    "services_identified": 51,
    "crates_analyzed": 9
  },
  "root_modules": [
    {
      "path": "examples",
      "type": "usage_examples",
      "status": "active",
      "description": "APIä½¿ç”¨ç¤ºä¾‹å’Œä¸šåŠ¡åœºæ™¯æ¼”ç¤º",
      "entry_points": ["README.md"],
      "key_features": ["APIç¤ºä¾‹", "ä¸šåŠ¡åœºæ™¯", "æœ€ä½³å®è·µ"],
      "coverage_status": "ğŸŸ¢ é«˜è¦†ç›–"
    },
    {
      "path": "tools",
      "type": "development_tools",
      "status": "active",
      "description": "APIä¸€è‡´æ€§æ£€æŸ¥å’Œä»£ç è´¨é‡å·¥å…·",
      "entry_points": [],
      "key_features": ["APIä¸€è‡´æ€§", "ä»£ç è´¨é‡", "æ„å»ºå·¥å…·"],
      "coverage_status": "ğŸŸ¡ ä¸­ç­‰è¦†ç›–"
    },
    {
      "path": "docs",
      "type": "documentation",
      "status": "active",
      "description": "æ¶æ„æ–‡æ¡£å’Œå¼€å‘æŒ‡å—",
      "entry_points": [],
      "key_features": ["APIæ–‡æ¡£", "å¼€å‘æŒ‡å—", "æ¶æ„è¯´æ˜"],
      "coverage_status": "ğŸŸ¡ ä¸­ç­‰è¦†ç›–"
    }
  ],
  "crate_modules": [
    {
      "path": "crates/openlark-core",
      "type": "core_infrastructure",
      "status": "active",
      "description": "æ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼ŒHTTPå®¢æˆ·ç«¯ã€é…ç½®ã€é”™è¯¯å¤„ç†ã€ä»¤ç‰Œç®¡ç†",
      "entry_points": ["src/lib.rs"],
      "key_features": ["HTTPå®¢æˆ·ç«¯", "é”™è¯¯å¤„ç†", "é…ç½®ç®¡ç†", "ä»¤ç‰Œç®¡ç†", "WebSocketæ”¯æŒ"],
      "coverage_percentage": 85,
      "coverage_status": "ğŸŸ¢ é«˜è¦†ç›–",
      "dependencies": ["tokio", "reqwest", "serde", "anyhow", "thiserror"],
      "feature_flags": ["websocket", "otel", 51],
      "api_coverage": "complete_core_infrastructure"
    },
    {
      "path": "crates/openlark-client",
      "type": "high_level_client",
      "status": "active",
      "description": "é«˜çº§å®¢æˆ·ç«¯å°è£…ï¼Œç»Ÿä¸€æ¥å£å’ŒæœåŠ¡ç®¡ç†",
      "entry_points": ["src/lib.rs"],
      "key_features": ["LarkClient", "æœåŠ¡æ³¨å†Œ", "å¼‚æ­¥æ¥å£", "æ„å»ºå™¨æ¨¡å¼"],
      "coverage_percentage": 60,
      "coverage_status": "ğŸŸ¡ ä¸­ç­‰è¦†ç›–",
      "dependencies": ["openlark-core"],
      "feature_flags": ["client", "all-services"],
      "api_coverage": "client_interface_layer"
    },
    {
      "path": "crates/openlark-protocol",
      "type": "protocol_definitions",
      "status": "active",
      "description": "WebSocketåè®®å®šä¹‰ï¼Œprotobufæ¶ˆæ¯æ ¼å¼",
      "entry_points": ["protos/"],
      "key_features": ["protobufå®šä¹‰", "WebSocketæ¶ˆæ¯åè®®"],
      "coverage_percentage": 90,
      "coverage_status": "ğŸŸ¢ é«˜è¦†ç›–",
      "dependencies": ["prost"],
      "feature_flags": [],
      "api_coverage": "protocol_definitions_complete"
    },
    {
      "path": "crates/openlark-communication",
      "type": "communication_service",
      "status": "active",
      "description": "é€šè®¯åä½œæœåŠ¡ï¼ŒIMæ¶ˆæ¯ã€è”ç³»äººç®¡ç†",
      "entry_points": ["src/lib.rs"],
      "key_features": ["IMæ¶ˆæ¯", "è”ç³»äººç®¡ç†", "ç¾¤ç»„", "æ¶ˆæ¯å¡ç‰‡", "æ–‡ä»¶å¤„ç†"],
      "coverage_percentage": 70,
      "coverage_status": "ğŸŸ¡ ä¸­ç­‰è¦†ç›–",
      "dependencies": ["openlark-core"],
      "feature_flags": ["communication"],
      "api_coverage": "im_v1_im_v2_contacts"
    },
    {
      "path": "crates/openlark-hr",
      "type": "hr_service",
      "status": "active",
      "description": "äººåŠ›èµ„æºæœåŠ¡ï¼Œè€ƒå‹¤ã€CoreHRã€EHRã€æ‹›è˜",
      "entry_points": ["src/lib.rs"],
      "key_features": ["è€ƒå‹¤ç®¡ç†", "CoreHR", "EHR", "æ‹›è˜", "å‘˜å·¥ç®¡ç†"],
      "coverage_percentage": 65,
      "coverage_status": "ğŸŸ¡ ä¸­ç­‰è¦†ç›–",
      "dependencies": ["openlark-core"],
      "feature_flags": ["hr"],
      "api_coverage": "attendance_corehr_ehr_hire"
    },
    {
      "path": "crates/openlark-auth",
      "type": "authentication_service",
      "status": "active",
      "description": "è®¤è¯æœåŠ¡ï¼Œä»¤ç‰Œç®¡ç†ã€èº«ä»½éªŒè¯",
      "entry_points": ["src/lib.rs"],
      "key_features": ["ä»¤ç‰Œç®¡ç†", "èº«ä»½éªŒè¯", "æƒé™æ§åˆ¶"],
      "coverage_percentage": 80,
      "coverage_status": "ğŸŸ¢ é«˜è¦†ç›–",
      "dependencies": ["openlark-core"],
      "feature_flags": ["auth"],
      "api_coverage": "token_management_auth"
    },
    {
      "path": "crates/openlark-ai",
      "type": "ai_service",
      "status": "active",
      "description": "AIæœåŠ¡ï¼Œæ™ºèƒ½åŠ©æ‰‹ã€è‡ªç„¶è¯­è¨€å¤„ç†",
      "entry_points": ["src/lib.rs"],
      "key_features": ["AIåŠ©æ‰‹", "æ™ºèƒ½åˆ†æ", "è‡ªç„¶è¯­è¨€å¤„ç†"],
      "coverage_percentage": 55,
      "coverage_status": "ğŸŸ¡ ä¸­ç­‰è¦†ç›–",
      "dependencies": ["openlark-core"],
      "feature_flags": ["ai"],
      "api_coverage": "ai_features_partial"
    },
    {
      "path": "crates/openlark-docs",
      "type": "documents_service",
      "status": "active",
      "description": "äº‘æ–‡æ¡£æœåŠ¡ï¼Œæ–‡æ¡£ã€è¡¨æ ¼ã€çŸ¥è¯†åº“",
      "entry_points": ["src/lib.rs"],
      "key_features": ["äº‘æ–‡æ¡£", "è¡¨æ ¼", "Wiki", "çŸ¥è¯†åº“", "æ–‡æ¡£ç®¡ç†"],
      "coverage_percentage": 50,
      "coverage_status": "ğŸŸ¡ ä¸­ç­‰è¦†ç›–",
      "dependencies": ["openlark-core"],
      "feature_flags": ["docs", "sheets", "bitable", "wiki", "drive"],
      "api_coverage": "docs_sheets_wiki_drive"
    },
    {
      "path": "crates/openlark-application",
      "type": "application_service",
      "status": "development",
      "description": "åº”ç”¨æœåŠ¡ï¼Œåº”ç”¨ç®¡ç†ã€é…ç½®ã€éƒ¨ç½²",
      "entry_points": ["src/lib.rs"],
      "key_features": ["åº”ç”¨ç®¡ç†", "é…ç½®ç®¡ç†", "éƒ¨ç½²"],
      "coverage_percentage": 30,
      "coverage_status": "ğŸ”´ ä½è¦†ç›–",
      "dependencies": ["openlark-core"],
      "feature_flags": ["application"],
      "api_coverage": "application_early_stage"
    }
  ],
  "service_modules": {
    "communication": {
      "crate": "openlark-communication",
      "apis": ["im_v1", "im_v2", "contacts_v3", "groups"],
      "coverage": 70,
      "examples": ["im_v1_demo", "contact_v3_comprehensive"]
    },
    "hr": {
      "crate": "openlark-hr",
      "apis": ["attendance_v1", "corehr", "ehr_v1", "hire_v1"],
      "coverage": 65,
      "examples": ["attendance_demo", "hire_v1_example"]
    },
    "documents": {
      "crate": "openlark-docs",
      "apis": ["sheets_v2", "sheets_v3", "drive_v1", "wiki_v2"],
      "coverage": 50,
      "examples": ["sheets_v2_single_write", "drive_builder_pattern"]
    },
    "ai": {
      "crate": "openlark-ai",
      "apis": ["ai_v1", "aily_v1"],
      "coverage": 55,
      "examples": ["ai_comprehensive", "aily_v1_example"]
    },
    "authentication": {
      "crate": "openlark-auth",
      "apis": ["auth_v3", "passport"],
      "coverage": 80,
      "examples": ["auth_example"]
    }
  },
  "build_system": {
    "type": "cargo_workspace",
    "root_file": "Cargo.toml",
    "build_tools": ["just", "cargo"],
    "feature_flags": {
      "total_flags": 51,
      "core_flags": ["websocket", "otel"],
      "service_flags": ["communication", "hr", "docs", "ai", "auth"],
      "client_flags": ["client", "all-services"]
    },
    "conditional_compilation": true,
    "workspace_crates": 22,
    "build_commands": {
      "format": "just fmt",
      "lint": "just lint",
      "test": "just test",
      "build": "just build",
      "docs": "just docs",
      "coverage": "just coverage",
      "audit": "just audit"
    }
  },
  "quality_tools": {
    "linting": ["clippy", "rustfmt"],
    "testing": ["cargo test", "cargo llvm-cov", "cargo hack"],
    "documentation": ["cargo doc"],
    "security": ["cargo-deny", "cargo audit"],
    "coverage_target": 54,
    "current_coverage": 15.8,
    "quality_gates": ["just check-all"]
  },
  "documentation_status": {
    "root_claude_md": {
      "path": "CLAUDE.md",
      "last_updated": "2025-11-16T15:09:25+08:00",
      "sections": ["é¡¹ç›®æ¦‚è§ˆ", "æ¨¡å—ç»“æ„å›¾", "æ¨¡å—ç´¢å¼•", "å¼€å‘å‘½ä»¤", "æ¶æ„è®¾è®¡", "å¼€å‘æŒ‡å—", "æµ‹è¯•ç­–ç•¥", "é…ç½®", "å˜æ›´è®°å½•"]
    },
    "module_claude_mds": [
      "crates/openlark-core/CLAUDE.md",
      "crates/openlark-client/CLAUDE.md"
    ],
    "mermaid_diagrams": {
      "module_structure": "å·²ä¼˜åŒ–",
      "dependency_graph": "æ–°å¢",
      "navigation_links": "å®Œæ•´"
    }
  },
  "scan_gaps": [
    {
      "area": "æœåŠ¡æ¨¡å—APIå®ç°ç»†èŠ‚",
      "description": "éœ€è¦æ·±å…¥åˆ†æå„æœåŠ¡æ¨¡å—çš„å…·ä½“APIå®ç°å’Œç‰ˆæœ¬ç®¡ç†",
      "priority": "high",
      "estimated_effort": "3-4 hours",
      "target_modules": ["openlark-communication", "openlark-hr", "openlark-docs"]
    },
    {
      "area": "æµ‹è¯•è¦†ç›–åº¦æå‡",
      "description": "å½“å‰è¦†ç›–ç‡15.8%ï¼Œç›®æ ‡70%ï¼Œéœ€è¦è¡¥å……å¤§é‡å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•",
      "priority": "high",
      "estimated_effort": "6-8 hours",
      "target_coverage": 40
    },
    {
      "area": "WebSocketäº‹ä»¶å¤„ç†ç³»ç»Ÿ",
      "description": "éœ€è¦è¯¦ç»†åˆ†æWebSocketåè®®å®ç°å’Œäº‹ä»¶åˆ†å‘æœºåˆ¶",
      "priority": "medium",
      "estimated_effort": "2-3 hours"
    },
    {
      "area": "æ„å»ºå™¨æ¨¡å¼å®ç°",
      "description": "éœ€è¦åˆ†æå„ä¸ªæœåŠ¡æ¨¡å—çš„æ„å»ºå™¨æ¨¡å¼å®ç°å’Œä½¿ç”¨æ–¹å¼",
      "priority": "medium",
      "estimated_effort": "2-3 hours"
    },
    {
      "area": "æ€§èƒ½ä¼˜åŒ–åˆ†æ",
      "description": "éœ€è¦åˆ†æHTTPå®¢æˆ·ç«¯æ€§èƒ½ã€è¿æ¥æ± é…ç½®ã€ç¼“å­˜ç­–ç•¥ç­‰",
      "priority": "low",
      "estimated_effort": "1-2 hours"
    }
  ],
  "ignored_patterns": [
    "target/**",
    ".git/**",
    ".idea/**",
    "dist/**",
    "build/**",
    ".next/**",
    "__pycache__/**",
    "*.lock",
    "*.log",
    "*.bin",
    "*.pdf",
    "*.png",
    "*.jpg",
    "*.jpeg",
    "*.gif",
    "*.mp4",
    "*.zip",
    "*.tar",
    "*.gz",
    "**/*.rs.bk",
    ".env",
    "tmp/**",
    "reports/**",
    "api_*.json",
    "api_*.csv",
    "server_api_list.csv",
    "*_analysis.md",
    "*_report.md"
  ],
  "architecture_insights": {
    "current_state": "crate_based_modular_architecture",
    "key_findings": [
      "é¡¹ç›®å·²æˆåŠŸä»å•ä½“æ¶æ„è¿ç§»åˆ°æ¨¡å—åŒ–crateæ¶æ„",
      "22ä¸ªcrateæ¨¡å—ï¼Œæ¸…æ™°çš„ä¾èµ–å…³ç³»å’ŒèŒè´£åˆ†ç¦»",
      "51ä¸ªåŠŸèƒ½æ ‡å¿—æ”¯æŒç»†ç²’åº¦çš„æ¡ä»¶ç¼–è¯‘",
      "ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œä»¤ç‰Œç®¡ç†æœºåˆ¶",
      "ç°ä»£åŒ–çš„æ„å»ºå™¨æ¨¡å¼å’Œå¼‚æ­¥APIè®¾è®¡",
      "å®Œæ•´çš„ä¼ä¸šçº§åŠŸèƒ½æ”¯æŒï¼šWebSocketã€ç›‘æ§ã€ç¼“å­˜"
    ],
    "architecture_strengths": [
      "æ¨¡å—åŒ–è®¾è®¡ï¼Œå‡å°‘ç¼–è¯‘æ—¶é—´å’ŒäºŒè¿›åˆ¶å¤§å°",
      "ç±»å‹å®‰å…¨çš„APIæ¥å£",
      "å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶",
      "ä¸°å¯Œçš„ç¤ºä¾‹å’Œæ–‡æ¡£",
      "ä¼ä¸šçº§è´¨é‡æ ‡å‡†"
    ],
    "improvement_opportunities": [
      "æå‡æµ‹è¯•è¦†ç›–ç‡ä»15.8%åˆ°70%",
      "è¡¥å……æ›´å¤šæœåŠ¡æ¨¡å—çš„è¯¦ç»†æ–‡æ¡£",
      "ä¼˜åŒ–æ€§èƒ½å’Œèµ„æºä½¿ç”¨",
      "å¢å¼ºå¼€å‘è€…å·¥å…·å’Œè°ƒè¯•æ”¯æŒ"
    ]
  },
  "next_scan_priorities": [
    {
      "priority": 1,
      "area": "æ ¸å¿ƒæœåŠ¡æ¨¡å—æ·±åº¦åˆ†æ",
      "description": "æ·±å…¥åˆ†æopenlark-communicationã€openlark-hrã€openlark-docsçš„APIå®ç°",
      "expected_coverage": "25%+"
    },
    {
      "priority": 2,
      "area": "æµ‹è¯•è¦†ç›–åº¦æå‡è®¡åˆ’",
      "description": "è¡¥å……æ ¸å¿ƒæ¨¡å—çš„å•å…ƒæµ‹è¯•ï¼Œç›®æ ‡è¦†ç›–ç‡40%",
      "expected_coverage": "40%+"
    },
    {
      "priority": 3,
      "area": "å‰©ä½™crateæ¨¡å—æ–‡æ¡£",
      "description": "ä¸ºopenlark-protocolã€openlark-authç­‰åˆ›å»ºè¯¦ç»†æ¨¡å—æ–‡æ¡£",
      "expected_coverage": "20%+"
    }
  ],
  "achievements_this_scan": {
    "coverage_improvement": "+8.3%",
    "modules_analyzed": 22,
    "detailed_crates_analysis": 9,
    "documentation_created": 3,
    "architecture_diagrams_optimized": true,
    "navigation_enhancements": true
  },
  "truncated": false,
  "scan_completion_reason": "completed_incremental_scan",
  "incremental_update": true,
  "version": "2.0"
}