//! ç®¡ç†åå°ï¼ˆAdminï¼‰æœåŠ¡
//!
//! æä¾›é£ä¹¦ç®¡ç†åå°çš„å®Œæ•´åŠŸèƒ½é›†ï¼Œæ”¯æŒç™»å½•å¯†ç ç®¡ç†ã€æ•°æ®æŠ¥è¡¨ã€
//! ä¼ä¸šå‹‹ç« ã€æˆäºˆç®¡ç†ç­‰ä¼ä¸šçº§åå°ç®¡ç†èƒ½åŠ›ã€‚æ˜¯ä¼ä¸šç®¡ç†å’Œè¿è¥çš„æ ¸å¿ƒå·¥å…·ã€‚
//!
//! # æ ¸å¿ƒåŠŸèƒ½
//!
//! ## ç™»å½•å¯†ç ç®¡ç†
//! - ğŸ” ä¼ä¸šå‘˜å·¥ç™»å½•å¯†ç è®¾ç½®
//! - ğŸ”„ å¯†ç é‡ç½®å’Œå¼ºåˆ¶æ›´æ–°
//! - ğŸ“Š å¯†ç å®‰å…¨ç­–ç•¥ç®¡ç†
//! - ğŸ›¡ï¸ å¯†ç å¤æ‚åº¦å’Œæœ‰æ•ˆæœŸæ§åˆ¶
//! - ğŸ“‹ å¯†ç å˜æ›´å†å²è®°å½•
//!
//! ## æ•°æ®æŠ¥è¡¨ç®¡ç†
//! - ğŸ“ˆ ä¼ä¸šæ•°æ®ç»Ÿè®¡å’Œåˆ†æ
//! - ğŸ“Š ç”¨æˆ·æ´»è·ƒåº¦æŠ¥è¡¨
//! - ğŸ’¼ åº”ç”¨ä½¿ç”¨æƒ…å†µç»Ÿè®¡
//! - ğŸ“… å®šæœŸæŠ¥è¡¨ç”Ÿæˆå’Œæ¨é€
//! - ğŸ“‹ è‡ªå®šä¹‰æŠ¥è¡¨é…ç½®
//!
//! ## ä¼ä¸šå‹‹ç« ç®¡ç†
//! - ğŸ† ä¼ä¸šå‹‹ç« è®¾è®¡å’Œåˆ›å»º
//! - ğŸ¨ å‹‹ç« æ ·å¼å’Œç­‰çº§è®¾ç½®
//! - ğŸ“Š å‹‹ç« ç»Ÿè®¡å’Œåˆ†æ
//! - ğŸ¯ å‹‹ç« è§„åˆ™å’Œæ¡ä»¶é…ç½®
//! - ğŸ”„ å‹‹ç« æ›´æ–°å’Œç»´æŠ¤
//!
//! ## å‹‹ç« æˆäºˆç®¡ç†
//! - ğŸ‘¥ å‹‹ç« æˆäºˆåå•ç®¡ç†
//! - ğŸ–ï¸ æ‰¹é‡å‹‹ç« æˆäºˆæ“ä½œ
//! - ğŸ“‹ æˆäºˆè®°å½•æŸ¥è¯¢å’Œç»Ÿè®¡
//! - ğŸ”” æˆäºˆé€šçŸ¥å’Œæ¨é€
//! - ğŸ“Š æˆäºˆæ•ˆæœåˆ†æ
//!
//! # ä½¿ç”¨ç¤ºä¾‹
//!
//! ```rust
//! use open_lark::prelude::*;
//!
//! let client = LarkClient::builder("app_id", "app_secret")
//!     .with_app_type(AppType::SelfBuild)
//!     .build();
//!
//! // è·å–ç®¡ç†åå°æœåŠ¡
//! let admin = &client.admin;
//!
//! // é‡ç½®ç”¨æˆ·å¯†ç 
//! // let password_request = ResetPasswordRequest::builder()
//! //     .user_id("user_id")
//! //     .new_password("new_password")
//! //     .build();
//! // admin.password.reset(password_request, None).await?;
//!
//! // è·å–æ•°æ®æŠ¥è¡¨
//! // let report_request = GetDataReportRequest::builder()
//! //     .report_type("user_activity")
//! //     .start_date("2024-07-01")
//! //     .end_date("2024-07-31")
//! //     .build();
//! // let report = admin.data_report.get(report_request, None).await?;
//!
//! // åˆ›å»ºä¼ä¸šå‹‹ç« 
//! // let badge_request = CreateBadgeRequest::builder()
//! //     .name("å¹´åº¦ä¼˜ç§€å‘˜å·¥")
//! //     .description("è¡¨å½°å¹´åº¦è¡¨ç°ä¼˜ç§€çš„å‘˜å·¥")
//! //     .icon_url("https://example.com/badge.png")
//! //     .build();
//! // admin.badge.create(badge_request, None).await?;
//!
//! // æˆäºˆå‹‹ç« 
//! // let grant_request = GrantBadgeRequest::builder()
//! //     .badge_id("badge_id")
//! //     .user_ids(vec!["user1", "user2"])
//! //     .reason("2024å¹´åº¦ä¼˜ç§€è¡¨ç°")
//! //     .build();
//! // admin.badge_grant.grant(grant_request, None).await?;
//! ```
//!
//! # ç®¡ç†åå°ç‰¹æ€§
//!
//! - ğŸ‘‘ è¶…çº§ç®¡ç†å‘˜æƒé™æ§åˆ¶
//! - ğŸ“Š å®æ—¶æ•°æ®ç›‘æ§å’Œåˆ†æ
//! - ğŸ” ä¼ä¸šçº§å®‰å…¨ç®¡ç†
//! - ğŸ¯ ç²¾ç»†åŒ–æƒé™æ§åˆ¶
//! - ğŸ“± ç§»åŠ¨ç«¯ç®¡ç†æ”¯æŒ
//!
//! # è¿è¥ç®¡ç†
//!
//! - ğŸ“ˆ æ•°æ®é©±åŠ¨çš„å†³ç­–æ”¯æŒ
//! - ğŸ¯ ç”¨æˆ·è¡Œä¸ºåˆ†ææ´å¯Ÿ
//! - ğŸ† æ¿€åŠ±ä½“ç³»è®¾è®¡å’Œç®¡ç†
//! - ğŸ“‹ æ“ä½œå®¡è®¡å’Œåˆè§„
//! - ğŸ”„ è‡ªåŠ¨åŒ–è¿è¥æµç¨‹

/// å‹‹ç« ç®¡ç†åŠŸèƒ½
pub mod badge;
/// å‹‹ç« æˆäºˆç®¡ç†åŠŸèƒ½
pub mod badge_grant;
/// æ•°æ®æŠ¥è¡¨åŠŸèƒ½
pub mod data_report;
/// æ•°æ®æ¨¡å‹å®šä¹‰
pub mod models;
/// å¯†ç ç®¡ç†åŠŸèƒ½
pub mod password;

use std::sync::Arc;

use crate::core::config::Config;
use badge::BadgeService;
use badge_grant::BadgeGrantService;
use data_report::DataReportService;
use password::PasswordService;

/// ç®¡ç†åå°æœåŠ¡
///
/// ä¼ä¸šçº§åå°ç®¡ç†çš„ç»Ÿä¸€å…¥å£ï¼Œæä¾›ç™»å½•å¯†ç ç®¡ç†ã€æ•°æ®æŠ¥è¡¨ã€
/// ä¼ä¸šå‹‹ç« ã€æˆäºˆç®¡ç†ç­‰å®Œæ•´çš„åå°ç®¡ç†èƒ½åŠ›ã€‚
///
/// # æœåŠ¡æ¶æ„
///
/// - **password**: ç™»å½•å¯†ç ç®¡ç†æœåŠ¡
/// - **data_report**: æ•°æ®æŠ¥è¡¨ç®¡ç†æœåŠ¡
/// - **badge**: ä¼ä¸šå‹‹ç« ç®¡ç†æœåŠ¡
/// - **badge_grant**: å‹‹ç« æˆäºˆç®¡ç†æœåŠ¡
/// - **models**: æ•°æ®æ¨¡å‹å’Œç»“æ„å®šä¹‰
///
/// # æ ¸å¿ƒç‰¹æ€§
///
/// - ğŸ” å…¨é¢çš„å®‰å…¨ç®¡ç†èƒ½åŠ›
/// - ğŸ“Š ä¸°å¯Œçš„æ•°æ®åˆ†æåŠŸèƒ½
/// - ğŸ† å®Œå–„çš„æ¿€åŠ±ä½“ç³»ç®¡ç†
/// - ğŸ‘‘ ç»†ç²’åº¦æƒé™æ§åˆ¶
/// - ğŸ“± å¤šç«¯ç®¡ç†æ”¯æŒ
///
/// # é€‚ç”¨åœºæ™¯
///
/// - ä¼ä¸šå®‰å…¨ç­–ç•¥ç®¡ç†
/// - æ•°æ®ç»Ÿè®¡å’Œåˆ†æ
/// - å‘˜å·¥æ¿€åŠ±ä½“ç³»å»ºè®¾
/// - åå°è¿è¥ç®¡ç†
/// - åˆè§„å®¡è®¡æ”¯æŒ
///
/// # æœ€ä½³å®è·µ
///
/// - å®šæœŸæ›´æ–°å®‰å…¨ç­–ç•¥
/// - åˆç†è®¾è®¡æ¿€åŠ±æœºåˆ¶
/// - åŠæ—¶åˆ†æè¿è¥æ•°æ®
/// - ä¿æŠ¤ç”¨æˆ·éšç§ä¿¡æ¯
/// - å»ºç«‹å®Œå–„çš„å®¡è®¡æµç¨‹
pub struct AdminService {
    /// ç™»å½•å¯†ç ç®¡ç†æœåŠ¡
    pub password: PasswordService,
    /// æ•°æ®æŠ¥è¡¨ç®¡ç†æœåŠ¡
    pub data_report: DataReportService,
    /// å‹‹ç« ç®¡ç†æœåŠ¡
    pub badge: BadgeService,
    /// å‹‹ç« æˆäºˆåå•ç®¡ç†æœåŠ¡
    pub badge_grant: BadgeGrantService,
}

impl AdminService {
    /// åˆ›å»ºæ–°çš„ç®¡ç†åå°æœåŠ¡å®ä¾‹
    ///
    /// # å‚æ•°
    /// - `config`: å®¢æˆ·ç«¯é…ç½®ï¼ŒåŒ…å«è®¤è¯ä¿¡æ¯å’ŒAPIè®¾ç½®
    ///
    /// # è¿”å›å€¼
    /// é…ç½®å®Œæˆçš„ç®¡ç†åå°æœåŠ¡å®ä¾‹
    pub fn new(config: Arc<Config>) -> Self {
        Self {
            password: PasswordService::new(Arc::clone(&config)),
            data_report: DataReportService::new(Arc::clone(&config)),
            badge: BadgeService::new(Arc::clone(&config)),
            badge_grant: BadgeGrantService::new(config),
        }
    }
}
