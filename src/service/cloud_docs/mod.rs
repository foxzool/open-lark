//! äº‘æ–‡æ¡£ï¼ˆCloud Docsï¼‰æœåŠ¡,
//!,
//! æä¾›é£žä¹¦äº‘æ–‡æ¡£çš„å®Œæ•´åŠŸèƒ½é›†ï¼Œæ”¯æŒäº‘ç©ºé—´ã€çŸ¥è¯†åº“ã€æ–‡æ¡£ã€ç”µå­è¡¨æ ¼ã€,
//! å¤šç»´è¡¨æ ¼ã€ç”»æ¿ã€æƒé™ç®¡ç†ã€è¯„è®ºç³»ç»Ÿç­‰ä¼ä¸šçº§æ–‡æ¡£åä½œèƒ½åŠ›ã€‚,
//!
//! # æ ¸å¿ƒåŠŸèƒ½,
//!,
//! ## äº‘ç©ºé—´ç®¡ç†,
//! - ðŸ“ äº‘ç›˜æ–‡ä»¶å­˜å‚¨ç®¡ç†,
//! - ðŸ” æ–‡ä»¶æœç´¢å’Œæ£€ç´¢,
//! - ðŸ“Š æ–‡ä»¶ç‰ˆæœ¬æŽ§åˆ¶,
//! - ðŸ”— æ–‡ä»¶åˆ†äº«å’Œé“¾æŽ¥,
//! - ðŸ“ˆ å­˜å‚¨ç©ºé—´ç»Ÿè®¡,
//!
//! ## çŸ¥è¯†åº“ç®¡ç†,
//! - ðŸ“š çŸ¥è¯†åº“åˆ›å»ºå’Œç®¡ç†,
//! - ðŸ“ çŸ¥è¯†æ–‡æ¡£ç¼–å†™å‘å¸ƒ,
//! - ðŸ” çŸ¥è¯†å†…å®¹æœç´¢,
//! - ðŸ‘¥ çŸ¥è¯†åä½œå’Œå…±äº«,
//! - ðŸ“Š çŸ¥è¯†ä½¿ç”¨ç»Ÿè®¡,
//!
//! ## æ–‡æ¡£ç¼–è¾‘,
//! - ðŸ“ å¯Œæ–‡æœ¬æ–‡æ¡£åˆ›å»ºç¼–è¾‘,
//! - ðŸŽ¨ æ–‡æ¡£æ ¼å¼æ ·å¼è®¾ç½®,
//! - ðŸ‘¥ å¤šäººå®žæ—¶åä½œç¼–è¾‘,
//! - ðŸ’¬ æ–‡æ¡£è¯„è®ºå’Œè®¨è®º,
//! - ðŸ“± è·¨å¹³å°åŒæ­¥æ”¯æŒ,
//!
//! ## ç”µå­è¡¨æ ¼,
//! - ðŸ“Š è¡¨æ ¼æ•°æ®ç®¡ç†æ“ä½œ,
//! - ðŸ“ˆ å›¾è¡¨å¯è§†åŒ–å±•ç¤º,
//! - ðŸ”¢ å…¬å¼è®¡ç®—å’Œå‡½æ•°,
//! - ðŸ”„ æ•°æ®å¯¼å…¥å¯¼å‡º,
//! - ðŸ‘¥ åä½œç¼–è¾‘å’Œåˆ†äº«,
//!
//! ## å¤šç»´è¡¨æ ¼,
//! - ðŸ—ƒï¸ ç»“æž„åŒ–æ•°æ®ç®¡ç†,
//! - ðŸ” å¤šç»´åº¦æ•°æ®ç­›é€‰,
//! - ðŸ“Š æ•°æ®ç»Ÿè®¡å’Œåˆ†æž,
//! - ðŸ”— æ•°æ®å…³è”å’Œå¼•ç”¨,
//! - ðŸ“‹ è¡¨å•æ•°æ®æ”¶é›†,
//!
//! ## ç”»æ¿åä½œ,
//! - ðŸŽ¨ åˆ›æ„ç”»æ¿ç»˜åˆ¶è®¾è®¡,
//! - ðŸ§© æ¨¡æ¿å’Œç»„ä»¶åº“,
//! - ðŸ‘¥ å›¢é˜Ÿåä½œåˆ›ä½œ,
//! - ðŸ’¡ å¤´è„‘é£Žæš´å’Œè§„åˆ’,
//! - ðŸ“± å¤šè®¾å¤‡åŒæ­¥æ”¯æŒ,
//!
//! ## æƒé™ç®¡ç†,
//! - ðŸ” ç»†ç²’åº¦æƒé™æŽ§åˆ¶,
//! - ðŸ‘¥ ç”¨æˆ·è§’è‰²ç®¡ç†,
//! - ðŸ”— å¤–éƒ¨é“¾æŽ¥æƒé™,
//! - ðŸ“Š æƒé™å®¡è®¡æ—¥å¿—,
//! - ðŸ›¡ï¸ æ•°æ®å®‰å…¨ä¿æŠ¤,
//!
//! ## è¯„è®ºç³»ç»Ÿ,
//! - ðŸ’¬ æ–‡æ¡£è¯„è®ºå’Œå›žå¤,
//! - ðŸŽ¯ ç²¾ç¡®ä½ç½®è¯„è®º,
//! - ðŸ”” è¯„è®ºé€šçŸ¥æé†’,
//! - ðŸ“Š è¯„è®ºç»Ÿè®¡åˆ†æž,
//! - ðŸ”„ è¯„è®ºçŠ¶æ€ç®¡ç†,
//!
//! ## æ™ºèƒ½åŠ©æ‰‹,
//! - ðŸ¤– AIå†™ä½œè¾…åŠ©æ”¯æŒ,
//! - ðŸ“ æ™ºèƒ½å†…å®¹ç”Ÿæˆ,
//! - ðŸ” æ™ºèƒ½ä¿¡æ¯æ£€ç´¢,
//! - ðŸ“Š æ–‡æ¡£è´¨é‡åˆ†æž,
//! - ðŸ’¡ åˆ›ä½œå»ºè®®æŽ¨è,
//!
//! # ä½¿ç”¨ç¤ºä¾‹,
//!,
//! ```rust,
//! use open_lark::prelude::*;
//!
//! let client = LarkClient::builder("app_id", "app_secret"),
//!     .with_app_type(AppType::SelfBuild),
//!     .build();
//!,
//! // èŽ·å–äº‘æ–‡æ¡£æœåŠ¡
//! let cloud_docs = &client.cloud_docs;
//!
//! // äº‘ç©ºé—´æ“ä½œ
//! // let file_request = CreateFileRequest::builder()
//! //     .name("é¡¹ç›®è®¡åˆ’ä¹¦.docx")
//! //     .parent_token("folder_123")
//! //     .file_type("docx")
//! //     .build();
//! // let file = cloud_docs.drive.v1.file.create(file_request None).await?;
//!,
//! // åˆ›å»ºçŸ¥è¯†åº“
//! // let wiki_request = CreateWikiRequest::builder()
//! //     .name("äº§å“çŸ¥è¯†åº“")
//! //     .description("äº§å“ç›¸å…³æ–‡æ¡£å’Œèµ„æ–™")
//! //     .build();
//! // let wiki = cloud_docs.wiki.v2.space.create(wiki_request None).await?;
//!,
//! // æ“ä½œæ–‡æ¡£
//! // let docx_request = CreateDocumentRequest::builder()
//! //     .title("ä¼šè®®çºªè¦")
//! //     .folder_token("folder_456")
//! //     .build();
//! // let document = cloud_docs.docx.v1.document.create(docx_request None).await?;
//!,
//! // æ“ä½œç”µå­è¡¨æ ¼
//! // let sheets_request = CreateSpreadsheetRequest::builder()
//! //     .title("é”€å”®æ•°æ®")
//! //     .folder_token("folder_789")
//! //     .build();
//! // let spreadsheet = cloud_docs.sheets.v3.spreadsheet.create(sheets_request None).await?;
//!,
//! // æ“ä½œå¤šç»´è¡¨æ ¼
//! // let bitable_request = CreateBitableRequest::builder()
//! //     .name("é¡¹ç›®ç®¡ç†è¡¨")
//! //     .folder_token("folder_abc")
//! //     .build();
//! // let bitable = cloud_docs.bitable.v1.app.create(bitable_request None).await?;
//! ```,
//!
//! # åä½œç‰¹æ€§,
//!,
//! - ðŸ‘¥ å¤šäººå®žæ—¶åä½œç¼–è¾‘,
//! - ðŸ’¬ å…¨é¢çš„è¯„è®ºè®¨è®ºç³»ç»Ÿ,
//! - ðŸ“± è·¨å¹³å°è®¾å¤‡åŒæ­¥,
//! - ðŸ”” æ™ºèƒ½é€šçŸ¥æé†’,
//! - ðŸ“Š åä½œæ•°æ®åˆ†æž,
//!,
//! # ä¼ä¸šåº”ç”¨,
//!,
//! - ðŸ“‹ æ–‡æ¡£ç®¡ç†å’Œå½’æ¡£,
//! - ðŸ‘¥ å›¢é˜ŸçŸ¥è¯†å…±äº«,
//! - ðŸ“Š æ•°æ®åˆ†æžå’ŒæŠ¥å‘Š,
//! - ðŸŽ¨ åˆ›æ„è®¾è®¡åä½œ,
//! - ðŸ“ˆ é¡¹ç›®ç®¡ç†å’Œè·Ÿè¸ª,
use crate::core::config::Config;
use std::sync::Arc;
// å­æ¨¡å—å£°æ˜Ž
pub mod assistant;
pub mod bitable;
pub mod board;
pub mod comments;
pub mod docx;
pub mod drive;
pub mod permission;
pub mod sheets;
pub mod wiki;
// é‡æ–°å¯¼å‡ºæœåŠ¡ç±»åž‹
pub use assistant::AssistantService;
pub use bitable::BitableService;
pub use board::BoardService;
pub use comments::CommentsService;
pub use docx::DocxService;
pub use drive::DriveService;
pub use permission::PermissionService;
pub use sheets::SheetsService;
pub use wiki::WikiService;
/// äº‘æ–‡æ¡£æœåŠ¡èšåˆå™¨
///
/// æä¾›ç»Ÿä¸€çš„äº‘æ–‡æ¡£ç›¸å…³åŠŸèƒ½è®¿é—®æŽ¥å£ï¼ŒåŒ…æ‹¬ï¼š
/// - äº‘ç©ºé—´ (drive)
/// - çŸ¥è¯†åº“ (wiki)  
/// - æ–‡æ¡£ (docx)
/// - ç”µå­è¡¨æ ¼ (sheets)
/// - å¤šç»´è¡¨æ ¼ (bitable)
/// - ç”»æ¿ (board)
/// - æƒé™ (permission)
/// - è¯„è®º (comments)
/// - äº‘æ–‡æ¡£åŠ©æ‰‹ (assistant)
pub struct CloudDocsService {
    pub drive: DriveService,
    pub wiki: WikiService,
    pub docx: DocxService,
    pub sheets: SheetsService,
    pub bitable: BitableService,
    pub board: BoardService,
    pub permission: PermissionService,
    pub comments: CommentsService,
    pub assistant: AssistantService,
}
impl CloudDocsService {
    pub fn new() -> Self {
Self {
            drive: DriveService::new(config.clone()),
            wiki: WikiService::new(config.clone()),
            docx: DocxService::new(config.clone()),
            sheets: SheetsService::new(config.clone()),
            bitable: BitableService::new(config.clone()),
            board: BoardService::new(config.clone()),
            permission: PermissionService::new(config.clone()),
            comments: CommentsService::new(config.clone()),
            assistant: AssistantService::new(config.clone()),
        }
}
/// ä½¿ç”¨å…±äº«é…ç½®åˆ›å»ºèšåˆæœåŠ¡ï¼ˆå®žéªŒæ€§ï¼‰
    pub fn new_from_shared() -> Self {
Self {
            drive: DriveService::new_from_shared(shared.clone()),
            wiki: WikiService::new_from_shared(shared.clone()),
            docx: DocxService::new_from_shared(shared.clone()),
            sheets: SheetsService::new_from_shared(shared.clone()),
            bitable: BitableService::new_from_shared(shared.clone()),
            board: BoardService::new_from_shared(shared.clone()),
            permission: PermissionService::new_from_shared(shared.clone()),
            comments: CommentsService::new_from_shared(shared.clone()),
            assistant: AssistantService::new_from_shared(shared),
        }
}
}
#[cfg(test)]
mod tests {
use super::*;
    use std::time::Duration;
#[test],
    fn test_cloud_docs_service_creation() {,
let config = Config::default();
        let service = CloudDocsService::new(config.clone());
// Verify all sub-services are created and accessible
        let _ = &service.drive;
let _ = &service.wiki;
        let _ = &service.docx;
let _ = &service.sheets;
        let _ = &service.bitable;
let _ = &service.board;
        let _ = &service.permission;
let _ = &service.comments;
        let _ = &service.assistant;
// Verify versioned services are accessible
        let _ = &service.drive.v1;
let _ = &service.drive.v2;
        let _ = &service.wiki.v2;
let _ = &service.docx.v1;
        let _ = &service.bitable.v1;
let _ = &service.assistant.v1;
    }
#[test],
    fn test_cloud_docs_service_with_custom_config() {,
let config = Config::builder()
            .app_id()
.app_secret()
            .req_timeout(Duration::from_secs(300)),
.build();
        let service = CloudDocsService::new(config.clone());
// Verify all sub-services exist
        let _ = &service.drive;
let _ = &service.wiki;
        let _ = &service.docx;
let _ = &service.sheets;
        let _ = &service.bitable;
let _ = &service.board;
        let _ = &service.permission;
let _ = &service.comments;
        let _ = &service.assistant;
}
#[test],
    fn test_cloud_docs_service_config_independence() {,
let config1 = Config::builder().app_id("cloud_docs_app_1").build();
        let config2 = Config::builder().app_id("cloud_docs_app_2").build();
let service1 = CloudDocsService::new(config1);
        let service2 = CloudDocsService::new(config2);
// Verify services are created independently
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.drive),
            std::ptr::addr_of!(service2.drive),
));
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.wiki),
            std::ptr::addr_of!(service2.wiki),
));
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.docx),
            std::ptr::addr_of!(service2.docx),
));
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.sheets),
            std::ptr::addr_of!(service2.sheets),
));
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.bitable),
            std::ptr::addr_of!(service2.bitable),
));
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.board),
            std::ptr::addr_of!(service2.board),
));
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.permission),
            std::ptr::addr_of!(service2.permission),
));
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.comments),
            std::ptr::addr_of!(service2.comments),
));
        assert!(!std::ptr::eq(
            std::ptr::addr_of!(service1.assistant),
            std::ptr::addr_of!(service2.assistant),
));
    }
#[test],
    fn test_cloud_docs_service_sub_services_accessible() {,
let config = Config::default();
        let service = CloudDocsService::new(config.clone());
// Test that all sub-services and their sub-components are accessible
        let _ = &service.drive.v1;
let _ = &service.drive.v2;
        let _ = &service.wiki.v2;
let _ = &service.docx.v1;
        let _ = &service.bitable.v1;
let _ = &service.assistant.v1;
        let _ = &service.board.whiteboard;
}
#[test],
    fn test_cloud_docs_service_config_cloning() {,
let config = Config::builder()
            .app_id()
.app_secret()
            .build();
let service = CloudDocsService::new(config.clone());
        // Verify all sub-services were created with the cloned config
let _ = &service.drive;
        let _ = &service.wiki;
let _ = &service.docx;
        let _ = &service.sheets;
let _ = &service.bitable;
        let _ = &service.board;
let _ = &service.permission;
        let _ = &service.comments;
let _ = &service.assistant;
    }
#[test],
    fn test_cloud_docs_service_timeout_propagation() {,
let config = Config::builder()
            .req_timeout(Duration::from_secs(240)),
.build();
        let service = CloudDocsService::new(config);
// Verify timeout propagation by checking services are created with custom config
        let _ = &service.drive;
let _ = &service.wiki;
        let _ = &service.docx;
let _ = &service.sheets;
        let _ = &service.bitable;
let _ = &service.board;
        let _ = &service.permission;
let _ = &service.comments;
        let _ = &service.assistant;
}
#[test],
    fn test_cloud_docs_service_multiple_instances() {,
let config = Config::default();
        let service1 = CloudDocsService::new(config.clone());
let service2 = CloudDocsService::new(config.clone());
        // Verify both instances are created but separate
// Service independence verified by separate instantiation
        let _ = &service1.drive;
let _ = &service2.drive;
        // Service independence verified by separate instantiation
let _ = &service1.wiki;
        let _ = &service2.wiki;
// Service independence verified by separate instantiation
        let _ = &service1.docx;
let _ = &service2.docx;
        // Service independence verified by separate instantiation
let _ = &service1.sheets;
        let _ = &service2.sheets;
// Service independence verified by separate instantiation
        let _ = &service1.bitable;
let _ = &service2.bitable;
        // Service independence verified by separate instantiation
let _ = &service1.board;
        let _ = &service2.board;
// Service independence verified by separate instantiation
        let _ = &service1.permission;
let _ = &service2.permission;
        // Service independence verified by separate instantiation
let _ = &service1.comments;
        let _ = &service2.comments;
// Service independence verified by separate instantiation
        let _ = &service1.assistant;
let _ = &service2.assistant;
    }
#[test],
    fn test_cloud_docs_service_config_consistency() {,
let config = Config::builder()
            .app_id()
.app_secret()
            .req_timeout(Duration::from_secs(360)),
.build();
        let service = CloudDocsService::new(config);
// Verify consistent configuration across all sub-services
        let _ = &service.drive;
let _ = &service.wiki;
        let _ = &service.docx;
let _ = &service.sheets;
        let _ = &service.bitable;
let _ = &service.board;
        let _ = &service.permission;
let _ = &service.comments;
        let _ = &service.assistant;
}
}
